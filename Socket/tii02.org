#+OPTIONS:^:{}
* Chapter 2: The Internet Address Architecture
** Introduction
   + 每一个和互联网连接的设备都要求有一个固定的IP,即便是在私有网络里面也是一样
   + 正因为如此,无论是在私有网络还是在公网上面,都要防止IP重复, 一般用户是通过
     ISP(Internet Serivice Provider)的服务来保证自己有一个独特的IP的
** Expressing IP Address
   + IPv4的格式我们很熟悉, 每8个bit一组, 32个bit分成四组.每组用十进制表示, 这
     种分组十进制转换成二进制的时候就稍微有点麻烦
     #+begin_example
        +-----------------------+----------------------------------------+
        | Doteed-Quad           |  Binary                                |
        +-----------------------+----------------------------------------+
        | 0.0.0.0               |00000000 00000000 00000000 00000000     |
        +-----------------------+----------------------------------------+
        | 1.2.3.4               |00000001 00000010 00000011 00000100     |
        +-----------------------+----------------------------------------+
        | 10.0.0.255            |00001010 00000000 00000000 11111111     |
        +-----------------------+----------------------------------------+
        | 165.195.130.107       |10100101 11000011 10000010 01101011     |
        +-----------------------+----------------------------------------+
        | 255.255.255.255       |11111111 11111111 11111111 11111111     |
        +-----------------------+----------------------------------------+
     #+end_example
   + IPv6看起来就麻烦的多,因为IPv6长度高达128bit,每16个bit一组, 128bit分成8个组,
     每个分组都是十六进制的数字表示,虽然看起来长,但是和二进制转换很容易
     #+begin_example
       +---------------------------------------+---------------------------------+
       | Hex Notation                          | Binary Representation           |
       +---------------------------------------+---------------------------------+
       |5f05:2000:80ad:5800:0058:0800:2023:1d71|0101111100000101 0010000000000000|
       | (5f05:2000:80ad:5800:58:800:2023:1d71)|1000000010101101 0101100000000000|
       |                                       |0000000001011000 0000100000000000|
       |                                       |0010000000100011 0001110101110001|
       +---------------------------------------+---------------------------------+
       |0000:0000:0000:0000:0000:0000:0000:0001|0000000000000000 0000000000000000|
       | (::1)                                 |0000000000000000 0000000000000000|
       |                                       |0000000000000000 0000000000000000|
       |                                       |0000000000000000 0000000000000001|
       +---------------------------------------+---------------------------------+
       |0000:0000:0000:0000:0000:0000:0102:f001|0000000000000000 0000000000000000|
       | (::102:f001)                          |0000000000000000 0000000000000000|
       | (::1.2.240.1 last 32bit use dot style)|0000000000000000 0000000000000000|
       |                                       |0000000100000010 1111000000000001|
       +---------------------------------------+---------------------------------+
     #+end_example
   + 上面的IPv6我们下面有括号,括号里面的内容,就是IPv6的简化版的地址, 简化的方法如下:
     - 8个小组每组前面的0都可以省略, 比如:0058: ==>:58:
     - 如果整个小组都是0, 那么连续的0可以用"::"表示. 但是一个地址只能用一次"::", 比如
       0:0:0:0:0:0:0:1 ==> ::1
     - 如果一个IPv4地址想用IPv6的方法表示,那么就是前面加上::ffff,比如10.0.0.1=>
       ::ffff:10.0.0.1, 这个叫做IPv4-mapped IPv6 address
     - IPv6的最后32bit,可以用dot-quad来表示, 比如::0101:f001==>::1.2.240.1
** Basic IP Address Structure
   + 绝大部分的IPv4地址都分配给了网络上的每一个host, 或者一个路由器(这个路由器背后是一个私有
     网络), 这种IP地址叫做单播(unicast)地址, 这种地址占据绝大多数
*** Classful Addressing
    + 每一个单播的IP地址,都分成了两个部分: 网络部分和主机部分
